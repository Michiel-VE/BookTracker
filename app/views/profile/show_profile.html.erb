<div class="max-w-3xl mx-auto p-6 bg-white shadow rounded-md space-y-6">
  <div class="flex items-center space-x-4">
    <img src="<%= current_user.avatar_url %>" alt="Profile Picture" class="w-20 h-20 rounded-full object-cover">
    <div>
      <h2 class="text-2xl font-bold text-green-asparagus">
        <%= current_user.full_name || current_user.email %>
      </h2>
    </div>
  </div>

  <div class="mt-6 sm:mt-24">
    <h3 class="text-xl font-semibold text-gray-700 mb-2">ðŸ“Š Stats</h3>
    <ul class="grid grid-cols-1 sm:grid-cols-2 gap-2 text-gray-700">
      <li>ðŸ“š <span class="font-bold">Books Read:</span> <%=  @total_read_books %></li>
      <li>ðŸ“„ <span class="font-bold">Pages Read:</span> <%= @total_pages_read %></li>

      <li class="col-span-2 flex flex-col sm:flex-row items-center space-x-2">
        ðŸŽ¯ <span class="font-bold">Goal:</span>
        <%= form_with model: @user, url: update_goal_path, method: :patch, local: true do |form| %>
          <%= form.text_field :goal, value: @user.goal, placeholder: "Goal", class: "p-2 border rounded w-full sm:w-16 mr-6" %>
          <%= form.submit "Update Goal", class: "p-2 bg-sage-green text-white rounded hover:bg-sage-green-darken" %>
        <% end %>
      </li>
    </ul>
  </div>

  <% if current_user.goal %>
  <div class="mt-6 sm:mt-24">
    <h3 class="text-xl font-semibold text-gray-700 mb-2">ðŸ“ˆ Reading Goal Progress</h3>
    <div class="w-full bg-gray-200 rounded-full h-3">
      <div class="bg-sage-green h-3 rounded-full" style="width: <%= [(@total_read_books.to_f / current_user.goal.to_f) * 100, 100].min %>%;"></div>
    </div>
    <p class="text-sm text-gray-600 mt-1"><%= "#{@total_read_books} / #{current_user.goal} books" %></p>
  </div>
  <% end %>
</div>